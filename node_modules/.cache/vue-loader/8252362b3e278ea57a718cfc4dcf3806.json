{"remainingRequest":"F:\\Scarletwaf_user_frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\Scarletwaf_user_frontend\\src\\views\\Login.vue?vue&type=script&lang=js&","dependencies":[{"path":"F:\\Scarletwaf_user_frontend\\src\\views\\Login.vue","mtime":1586405812000},{"path":"F:\\Scarletwaf_user_frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1585793691264},{"path":"F:\\Scarletwaf_user_frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":1585793691225},{"path":"F:\\Scarletwaf_user_frontend\\node_modules\\vuetify-loader\\lib\\loader.js","mtime":1585793720292},{"path":"F:\\Scarletwaf_user_frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1585793691264},{"path":"F:\\Scarletwaf_user_frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":1585793708155}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCi8qIGVzbGludC1kaXNhYmxlICovCgogIGV4cG9ydCBkZWZhdWx0IHsKICAgIG5hbWU6ICJMb2dpbiIsCiAgICBkYXRhKCkgewogICAgICByZXR1cm4gewogICAgICAgIGlzTG9hZGluZzogZmFsc2UsCiAgICAgICAgbWVzc2FnZUJhcjogZmFsc2UsCiAgICAgICAgbWVzc2FnZTogJycsCiAgICAgICAgbmFtZVJ1bGVzOiBbCiAgICAgICAgICB2ID0+ICEhdiB8fCAn6K+36L6T5YWl6LSm5Y+3JwogICAgICAgIF0sCiAgICAgICAgcGFzc3dvcmRSdWxlczogWwogICAgICAgICAgdiA9PiAhIXYgfHwgJ+ivt+i+k+WFpeWvhueggScKICAgICAgICBdLAogICAgICAgIGlucHV0Rm9ybTogewogICAgICAgICAgTmFtZTogJycsCiAgICAgICAgICBQYXNzd29yZDogJycKICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgICBtZXRob2RzOiB7CiAgICAgIG9uTG9naW46IGZ1bmN0aW9uKCl7CiAgICAgICAgYXhpb3MucG9zdCgKICAgICAgICAgIGNvbmZpZy5sb2dfYXBpLAogICAgICAgICAgdGhpcy4kcXMuc3RyaW5naWZ5KHRoaXMuaW5wdXRGb3JtKSwKICAgICAgICApLnRoZW4oKHJlcykgPT4gewogICAgICAgICAgLy8gQ2hlY2sgdGhlIGNhbGxiYWNrCiAgICAgICAgICB2YXIgbG9nX3Jlc3VsdCA9IHJlcy5kYXRhCiAgICAgICAgICBpZihsb2dfcmVzdWx0Lm1lc3NhZ2UgPT0gIueZu+W9leaIkOWKnyIpCiAgICAgICAgICB7CiAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCd0b2tlbicsIGxvZ19yZXN1bHQudG9rZW4pCiAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCd1c2VybmFtZScsIGxvZ19yZXN1bHQudXNlcm5hbWUpCiAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2UoewogICAgICAgICAgICAgIG1lc3NhZ2U6ICLnmbvpmYbmiJDlip8iLAogICAgICAgICAgICAgIHR5cGU6ICdzdWNjZXNzJywKICAgICAgICAgICAgICBvbkNsb3NlOigpID0+IHsKICAgICAgICAgICAgICAgIHRoaXMuJHJvdXRlci5yZXBsYWNlKHtwYXRoOiAnLyd9KQogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgICB9CiAgICAgICAgICBlbHNlIGlmKGxvZ19yZXN1bHQubWVzc2FnZSA9PT0gIueUqOaIt+WQjeaIluWvhueggemUmeivryIpCiAgICAgICAgICB7CiAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoJ+eUqOaIt+WQjeaIluWvhueggemUmeivrycpOwogICAgICAgICAgfQogICAgICAgICAgZWxzZSBpZiAobG9nX3Jlc3VsdC5tZXNzYWdlID09PSAi55So5oi35ZCN5oiW5a+G56CB5Li656m6IikKICAgICAgICAgIHsKICAgICAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcign55So5oi35ZCN5oiW5a+G56CB5Li656m6Jyk7CiAgICAgICAgICB9CiAgICAgICAgfSkKICAgICAgfSwKICAgICAgb25SZXNldCgpIHsKICAgICAgICB0aGlzLmlucHV0Rm9ybSA9IHsKICAgICAgICAgIE5hbWU6ICcnLAogICAgICAgICAgUGFzc3dvcmQ6ICcnCiAgICAgICAgfQogICAgICB9LAogICAgICB0b1JlZ2lzdGVyKCl7CiAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goe3BhdGg6ICcvUmVnaXN0ZXInfSkKICAgICAgfQoKICAgIH0KICB9Cg=="},{"version":3,"sources":["Login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoDA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA","file":"Login.vue","sourceRoot":"src/views","sourcesContent":["/* eslint-disable */\n<template>\n  <v-content>\n    <v-snackbar v-model=\"messageBar\" color=\"error\" :timeout=\"2000\" :top=\"true\">{{ message }}</v-snackbar>\n    <v-row align=\"center\" justify=\"center\" style=\"margin-top: 5%;\">\n      <h1 class=\"display-2 font-weight-thin\">ScarletWaf</h1>\n    </v-row>\n    <br>\n    <v-card class=\"mx-auto\" max-width=\"400\">\n      <v-card-title>登录</v-card-title>\n      <v-card-text>\n        <v-form ref=\"form\">\n          <v-text-field\n            v-model=\"inputForm.Name\"\n            :rules=\"nameRules\"\n            label=\"账号\"\n            required\n            autocomplete=\"off\"\n          />\n          <v-text-field\n            v-model=\"inputForm.Password\"\n            :rules=\"passwordRules\"\n            label=\"密码\"\n            type=\"password\"\n            required\n            autocomplete=\"off\"\n          />\n        </v-form>\n      </v-card-text>\n\n      <v-card-actions>\n        <v-btn text color=\"primary\" @click=\"onLogin\">登录</v-btn>\n        <v-btn text @click=\"onReset\">重置</v-btn>\n        <v-btn text @click=\"toRegister\">去注册</v-btn>\n      </v-card-actions>\n    </v-card>\n    <div class=\"mt-8 text-center\">ScarletWaf管理面板</div>\n\n    <!-- 登录等待 -->\n    <v-dialog v-model=\"isLoading\" hide-overlay persistent width=\"300\">\n      <v-card dark>\n        <v-card-text>\n          <p>登录中.....</p>\n          <v-progress-linear indeterminate color=\"white\" class=\"mb-0\"/>\n        </v-card-text>\n      </v-card>\n    </v-dialog>\n\n  </v-content>\n</template>\n\n<script>\n/* eslint-disable */\n\n  export default {\n    name: \"Login\",\n    data() {\n      return {\n        isLoading: false,\n        messageBar: false,\n        message: '',\n        nameRules: [\n          v => !!v || '请输入账号'\n        ],\n        passwordRules: [\n          v => !!v || '请输入密码'\n        ],\n        inputForm: {\n          Name: '',\n          Password: ''\n        }\n      }\n    },\n    methods: {\n      onLogin: function(){\n        axios.post(\n          config.log_api,\n          this.$qs.stringify(this.inputForm),\n        ).then((res) => {\n          // Check the callback\n          var log_result = res.data\n          if(log_result.message == \"登录成功\")\n          {\n            localStorage.setItem('token', log_result.token)\n            localStorage.setItem('username', log_result.username)\n            this.$message({\n              message: \"登陆成功\",\n              type: 'success',\n              onClose:() => {\n                this.$router.replace({path: '/'})\n              }\n            });\n          }\n          else if(log_result.message === \"用户名或密码错误\")\n          {\n            this.$message.error('用户名或密码错误');\n          }\n          else if (log_result.message === \"用户名或密码为空\")\n          {\n            this.$message.error('用户名或密码为空');\n          }\n        })\n      },\n      onReset() {\n        this.inputForm = {\n          Name: '',\n          Password: ''\n        }\n      },\n      toRegister(){\n        this.$router.push({path: '/Register'})\n      }\n\n    }\n  }\n</script>\n\n<style scoped>\n</style>\n"]}]}